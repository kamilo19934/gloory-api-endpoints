POST /citas/
Permite agendar citas a pacientes.

Ejemplo de solicitud:

var settings    = {
    "url": "https://api.medilink2.healthatom.com/api/v5/citas/",
    "method": "POST",
    "headers": {
        "Authorization": "Token "+token
    },
    "data":{
        "id_profesional"    : 2,
        "id_sucursal"       : 1,
        "id_estado"         : 7,
        "id_sillon"        : 1,
        "id_paciente"       : 2,
        "id_atencion"       : 2,
        "fecha"             : "2018-11-02",
        "hora_inicio"       : "09:00",
        "duracion"          : 30,
        "comentario"        : "Control general",
        "videoconsulta"     : 1
    }
}

$.ajax(settings).done(function (response) {
    console.log(response);
});
Ejemplo de respuesta:

{
    "data": {
        "id": 754,
        "id_paciente": 2,
        "nombre_paciente": "Fernanda Risopatrón",
        "id_estado": 7,
        "estado_cita": "No confirmado",
        "estado_anulacion": 0,
        "id_atencion": 2,
        "nombre_tratamiento": "Exodoncia",
        "id_profesional": 2,
        "nombre_profesional": "Daniel Vergara",
        "id_sucursal": 1,
        "nombre_sucursal": "NORTE",
        "id_sillon": 1,
        "nombre_sillon": "Sillon 1",
        "fecha": "2018-11-02",
        "hora_inicio": "09:00:00",
        "hora_fin": "09:30:00",
        "duracion": 30,
        "comentarios": "Control exodoncia",
        "fecha_actualizacion": "2018-11-05 17:09:01",
        "links": [
            {
                "rel": "self",
                "href": "http://api.medilink2.healthatom.com/api/v5/citas/754",
                "method": "GET"
            },
            {
                "rel": "pacientes",
                "href": "http://api.medilink2.healthatom.com/api/v5/pacientes/2",
                "method": "GET"
            },
            {
                "rel": "atenciones",
                "href": "http://api.medilink2.healthatom.com/api/v5/atenciones/2",
                "method": "GET"
            },
        ]
    }
}
HTTP/Request
URI
POST api/v5/citas/

Body
Parámetro	Tipo de dato	Descripción
id_profesional	Integer	ID profesional responsable de la cita
id_sucursal	Integer	ID sucursal donde se va a realizar la cita
id_estado	Integer	(Opcional) ID estado de la cita. En caso de no ser especificado, la cita se crea con estado "No confirmado" (7)
id_sillon	Integer	ID sillón asignado a la cita (Los sobrecupos usan el sillón/recurso con ID 7)
id_paciente	Integer	ID paciente
id_atencion	Integer	ID atención al cual asignar la cita. Debe ser una atención sin cita y distinta del tipo de evento medico Licencia o Interconsulta
fecha	date	Fecha de la cita
hora_inicio	String	Horario de la cita
duracion	Integer	Duración en minutos de la cita, debe ser compatible con el intervalo de atención del profesional.
comentario	String	(Opcional) Comentario de la cita
videoconsulta	Bool	(Opcional) Define la modalidad de la cita:
1 = Videoconsulta
0 = Presencial
Comportamiento según el horario de atención:

Horario con una sola modalidad:

Si no se envía el parámetro, la cita se agenda automáticamente en la modalidad disponible
Si se envía, debe coincidir con la modalidad del horario
Horario con ambas modalidades:

El parámetro se vuelve requerido
Se debe especificar explícitamente la modalidad deseada (0 o 1)
Ejemplos:

{
    // Agendar videoconsulta
    "videoconsulta": 1,
    // ... otros parámetros ...
}

{
    // Agendar cita presencial
    "videoconsulta": 0,
    // ... otros parámetros ...
}
HTTP/Response
Atributos	Tipo de dato	Descripción
id	Integer	ID de la cita
id_paciente	Integer	ID del paciente
nombre_paciente	String	Nombre del paciente
id_estado	Integer	ID del estado de la cita
estado_cita	String	Estado de la cita
id_atencion	Integer	ID del tratamiento
fecha	String	Fecha de la cita
hora_inicio	String	Hora de inicio de la cita
hora_fin	String	Hora de término de la cita
duracion	Integer	Duración de la cita, en minutos
id_profesional	Integer	ID del profesional que realiza la cita
nombre_profesional	String	Nombre del profesional que realiza la cita
id_sucursal	Integer	ID de la sucursal
nombre_sucursal	String	Nombre de la sucursal donde se realiza la cita
id_sillon	Integer	ID del sillón
comentarios	String	Comentarios asociados a la cita
fecha_actualizacion	Datetime	Fecha y hora de la última actualización de estado formato AAAA-MM-DD H:I:S
